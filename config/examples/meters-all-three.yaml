# Example configuration for monitoring all three utility meters
# Water, Electric, and Gas meters simultaneously

meters:
  # Water meter
  - name: "water_main"
    type: "water"
    camera_ip: "${WATER_CAM_IP:10.10.10.207}"
    camera_user: "${WATER_CAM_USER:root}"
    camera_pass: "${WATER_CAM_PASS}"
    stream_url: "${WATER_CAM_STREAM_URL}"
    reading_interval: 600  # 10 minutes
    max_change_per_reading: 10.0  # m³

  # Electric meter
  - name: "electric_main"
    type: "electric"
    camera_ip: "${ELECTRIC_CAM_IP:10.10.10.208}"
    camera_user: "${ELECTRIC_CAM_USER:root}"
    camera_pass: "${ELECTRIC_CAM_PASS}"
    stream_url: "${ELECTRIC_CAM_STREAM_URL}"
    reading_interval: 300  # 5 minutes (more frequent for electricity)
    max_change_per_reading: 50.0  # kWh

  # Gas meter
  - name: "gas_main"
    type: "gas"
    camera_ip: "${GAS_CAM_IP:10.10.10.209}"
    camera_user: "${GAS_CAM_USER:root}"
    camera_pass: "${GAS_CAM_PASS}"
    stream_url: "${GAS_CAM_STREAM_URL}"
    reading_interval: 900  # 15 minutes
    max_change_per_reading: 100.0  # CCF
    use_cubic_meters: false  # Use CCF instead of m³

# InfluxDB configuration
influxdb:
  url: "${INFLUXDB_URL:http://localhost:8086}"
  token: "${INFLUXDB_TOKEN}"
  org: "${INFLUXDB_ORG:ecoworks}"
  bucket: "${INFLUXDB_BUCKET:utility_meters}"

# MQTT configuration (optional - for Home Assistant integration)
mqtt:
  enabled: true
  broker: "${MQTT_BROKER:localhost}"
  port: 1883
  username: "${MQTT_USERNAME}"
  password: "${MQTT_PASSWORD}"
  topic_prefix: "home/meters"

# Logging configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  log_to_file: true
  log_dir: "logs"
